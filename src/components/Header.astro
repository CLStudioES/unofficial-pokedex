---
// remote last slash from pathname
const { pathname } = Astro.url;
const normalizedPathName =
    pathname.length > 1 && pathname.endsWith("/")
        ? pathname.slice(0, -1)
        : pathname;

const paginasPrincipales = [
    {
        id: 1,
        name: "Generation 1",
        href: "/generations/1",
        active: normalizedPathName.startsWith("/generations"),
    },
    {
        id: 2,
        name: "Generation 2",
        href: "/generations/2",
        active: normalizedPathName.startsWith("/generations"),
    },
    {
        id: 3,
        name: "Generation 3",
        href: "/generations/3",
        active: normalizedPathName.startsWith("/generations"),
    },
    {
        id: 4,
        name: "Generation 4",
        href: "/generations/4",
        active: normalizedPathName.startsWith("/generations"),
    },
    {
        id: 5,
        name: "Generation 5",
        href: "/generations/5",
        active: normalizedPathName.startsWith("/generations"),
    },
].map((page) => ({
    ...page,
    active: page.active ?? normalizedPathName === page.href,
}));
const paginasSecundarias = [
    {
        id: 6,
        name: "Generation 6",
        href: "/generations/6",
        active: normalizedPathName.startsWith("/generations"),
    },
    {
        id: 7,
        name: "Generation 7",
        href: "/generations/7",
        active: normalizedPathName.startsWith("/generations"),
    },
    {
        id: 8,
        name: "Generation 8",
        href: "/generations/8",
        active: normalizedPathName.startsWith("/generations"),
    },
    {
        id: 9,
        name: "Generation 9",
        href: "/generations/9",
        active: normalizedPathName.startsWith("/generations"),
    },
    {
        id: 10,
        name: "Generation 10",
        href: "/generations/1",
        active: normalizedPathName.startsWith("/generations"),
    },
].map((page) => ({
    ...page,
    active: page.active ?? normalizedPathName === page.href,
}));
---

<header class="text-gray-600 w-full mx-auto justify-center items-center">
    <div class="mx-auto flex flex-wrap p-5 justify-center items-center">
        <nav class="flex flex-wrap items-center justify-between text-base">
            {
                paginasPrincipales.map(({ name, href }, key) => (
                    <a
                        href={href}
                        id={`nav-link-${key}`}
                        class:list={[
                            "group mr-5 hover:text-gray-900 flex flex-row items-center justify-center",
                        ]}
                    >
                        <img
                            src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/51/Pokebola-pokeball-png-0.png/769px-Pokebola-pokeball-png-0.png"
                            alt="Generación 1"
                            class="w-3 h-3 hidden group-hover:flex group-hover:animate-slide-in-right duration-300 mr-2 transition-all my-auto"
                        />
                        {name}
                    </a>
                ))
            }
        </nav>
        <a
            href="/"
            class="hover:scale-110 transition-all duration-200 flex order-first lg:order-none lg:w-1/5 title-font font-medium items-center text-gray-900 lg:items-center lg:justify-center mb-4 md:mb-0 px-2"
        >
            <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                stroke="currentColor"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                class="w-10 h-10 text-white p-2 bg-indigo-500 rounded-full"
                viewBox="0 0 24 24"
            >
                <path
                    d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"
                ></path>
            </svg>
            <span class="ml-3 text-xl">Tailblocks</span>
        </a>
        <nav
            class="flex flex-wrap flex-row items-center justify-between text-base"
        >
            {
                paginasSecundarias.map(({ name, href }, key) => (
                    <a
                        href={href}
                        id={`nav-link-${key}`}
                        class:list={[
                            "group mr-5 hover:text-gray-900 flex flex-row items-center justify-center",
                        ]}
                    >
                        <img
                            src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/51/Pokebola-pokeball-png-0.png/769px-Pokebola-pokeball-png-0.png"
                            alt="Generación"
                            class="w-3 h-3 hidden group-hover:flex group-hover:animate-slide-in-right duration-300 mr-2 transition-all my-auto"
                        />
                        {name}
                    </a>
                ))
            }
        </nav>
    </div>
</header>
